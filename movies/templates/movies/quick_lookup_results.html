{% extends "movies/base.html" %}
<!-- Block/Tab Title -->
{% block title %}Sam's Picks: Quick Lookup{% endblock %}

{% block content %}

<h2 class="mb-4">Search results for “{{ query }}”</h2>

<!-- Results list if any come back -->
{% if results %}

  <!-- Revised result list with poster + badge -->
  <ul class="list-group">
    {% for item in results %}
      <li class="list-group-item d-flex align-items-center gap-3">
        {% if item.poster %}
          <img src="{{ item.poster }}" width="55" height="82" class="rounded">
        {% endif %}

        <!-- title, year, media‑type badge -->
        <span>
          <strong>{{ item.title }}</strong>
          {% if item.year %} ({{ item.year }}){% endif %}

          {% if item.media_type == "tv" %}
            <span class="badge bg-info text-dark ms-2">TV</span>
          {% else %}
            <span class="badge bg-secondary ms-2">Movie</span>
          {% endif %}
        </span>

      </li>
    {% endfor %}
  </ul>

{% else %}

  <!-- Fallback incase the API returned no hits -->
  <p>No results.</p>
{% endif %}

{% endblock %}